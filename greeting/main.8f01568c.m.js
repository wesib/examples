import{a7 as e,J as t,aa as n,P as s,ab as o,ac as r,ad as a,ae as l,af as c}from"../js/lib.e2c9a0a7.m.js";import{h as i,P as u,R as d,C as m,j as p,T as f,B as h,k as y,d as g}from"../js/wesib.0ecb839b.m.js";import{E as b,T as v,F as x,D as $,i as j,r as k,A as _,I as w,e as O}from"../js/common.0c8b34a5.m.js";let T=class{constructor(e){this._context=e}style(){return this._context.get(f).style(C)}render(){const e=this,t=this._context.get(h).document.createElement("span");return this._context.contentRoot.append(t),()=>t.innerText=function(){var t;const n=null===(t=e.name)||void 0===t?void 0:t.trim();return n?`Hello, ${n}!`:"Hello!"}()}};e([i()],T.prototype,"name",void 0),e([u()],T.prototype,"style",null),e([d()],T.prototype,"render",null),T=e([m(["greeting-out",b]),p()],T);const z="bex:greeting-out";function C(e){const n=e.ref(v).read.keep,s=e.ref(x).read.keep,{root:{rules:o}}=e;return t(o.add({u:[":","host"],$:z},s.thru(j)).add(s.thru(k)).add(n.thru(E)),e.style($))}function E({$fontSize:e}){return{display:"block",margin:`${e.div(2)} 0 0 0`}}const H=y({selector:"input",control:e=>n(e.element).setup(s,e=>e.by(o)).setup(r,e=>e.add(a()))});let P=class{constructor(e){this._context=e,e.whenOn(t=>{const n=e.get(H).tillOff(t),s=l({name:""});n(e=>s.controls.set("name",e)).whenOff(()=>s.controls.remove("name"));const o=e.get(g).select(T,{deep:!0}).first,r=new c("");r.sync(o,e=>{var t;return null===(t=e)||void 0===t?void 0:t.attribute("name")}),r.sync("in",s.controls.read,e=>{var t;return null===(t=e)||void 0===t?void 0:t.get("name")}),t.whenOff(()=>r.done())})}style(){return this._context.get(f).style(S)}nodeControl(e){const t=l({name:""});return t.controls.set("name",n(e.element).setup(s,e=>e.by(o)).setup(r,e=>e.add(a()))),t}};e([u()],P.prototype,"style",null),P=e([m(["greeting",b],H,{feature:{needs:[T,_]}})],P);const R="bex:greeting";function S(e){const n=e.ref(v).read.keep,{root:{rules:s}}=e,o=s.add([{u:[":","host"]},{e:"label",$:R}],n.thru(A));return t(e.style(w),o,o.rules.add({e:"input",$:R},n.thru(E)))}function A({$fontSize:e}){return{display:"block",margin:0,padding:`${e.div(2)}`}}O.load(P);
//# sourceMappingURL=main.8f01568c.m.js.map
